{"mappings":"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","sources":["src/js/onLoadLibraryPage.js","src/js/eventListenerLibrary.js"],"sourcesContent":["import { loadAllMovie } from './local-storage';\nimport { renderFilmsOnLibraryPage } from './render-films';\nimport { spinnerToggle, hideSpinner } from './spinner';\n\nconst removeNotify = () => {\n  const notify = document.querySelector('.notify-lib');\n  if (notify) notify.remove();\n};\n\nconst clearLibrary = () => {\n  const galleryContainerLibrary = document.querySelector('.library-box');\n  galleryContainerLibrary.innerHTML = '';\n};\n\nconst addNotify = type => {\n  const mainPage = document.querySelector('main');\n  const markup = `\n  <p class=\"notify-lib\">\n    ${type} movies library is empty\n  </p>`;\n  removeNotify();\n  mainPage.insertAdjacentHTML('afterbegin', markup);\n};\n\nconst loadWatched = () => {\n  removeNotify();\n  const watchedMovie = loadAllMovie('WATCHED');\n  if (watchedMovie.length > 0) {\n    renderFilmsOnLibraryPage(watchedMovie);\n  } else {\n    clearLibrary();\n    addNotify('Watched');\n  }\n};\n\nconst loadQueue = () => {\n  removeNotify();\n  const queuedMovie = loadAllMovie('QUEUE');\n  if (queuedMovie.length > 0) {\n    renderFilmsOnLibraryPage(queuedMovie);\n  } else {\n    clearLibrary();\n    addNotify('Queued');\n  }\n};\n\nloadWatched();\n\nexport { loadWatched, loadQueue };\n","import { loadWatched, loadQueue } from './onLoadLibraryPage';\nimport loadModalInfo from './loadModalInfo';\nimport { loadWatched, loadQueue } from './onLoadLibraryPage';\n//-----refs------///\n\nconst refs = {\n  body: document.querySelector('body'),\n  watchedBtn: document.querySelector('.watched'),\n  currentBtn: document.querySelector('.watched.current-button'),\n  queueBtn: document.querySelector('.queue'),\n  library: document.querySelector('.library'),\n  modal: document.querySelector('.backdrop-info'),\n  modalBtnClose: document.querySelector('.modal__btn-close'),\n  gallery: document.querySelector('.gallery'),\n  backdrop: document.querySelector('.backdrop-info'),\n  teamBtn: document.querySelector('.modal__open'),\n  teamBackdrop: document.querySelector('.backdrop__modal'),\n  teamModalCloseBtn: document.querySelector('.footer__modal-icons'),\n  teamName: document.querySelector('.footer__block'),\n};\n\nrefs.watchedBtn.addEventListener('click', watchedClick);\nrefs.queueBtn.addEventListener('click', queueClick);\nrefs.gallery.addEventListener('click', onLibraryCard);\nrefs.modalBtnClose.firstElementChild.addEventListener('click', modalClose);\nrefs.backdrop.addEventListener('click', clickCloseModal);\nrefs.teamBtn.addEventListener('click', footerOpen);\nrefs.teamModalCloseBtn.addEventListener('click', modalClose);\n\nfunction watchedClick() {\n  refs.watchedBtn.classList.add('current-button');\n  refs.queueBtn.classList.remove('current-button');\n  loadWatched();\n}\n\nfunction queueClick() {\n  refs.queueBtn.classList.add('current-button');\n  refs.watchedBtn.classList.remove('current-button');\n  loadQueue();\n}\n\nfunction onLibraryCard(e) {\n  e.preventDefault();\n  document.addEventListener('keydown', clickCloseModal);\n  const id = e.target.parentNode.parentNode.parentNode.dataset.id;\n  if (e.target.parentNode.parentNode.parentNode.tagName !== 'LI') {\n    return;\n  }\n  loadModalInfo(id);\n  refs.backdrop.classList.toggle('is-hidden');\n  refs.body.style.overflow = 'hidden';\n}\n\n//-------Copy from eventLisners---------//\n\nfunction modalClose(e) {\n  e.preventDefault();\n  if (e.target === refs.modalBtnClose.firstElementChild) {\n    document.removeEventListener('keydown', clickCloseModal);\n    refs.backdrop.classList.toggle('is-hidden');\n    refs.body.style.overflow = 'visible';\n  } else if (e.target === refs.teamModalCloseBtn) {\n    document.removeEventListener('keydown', footerClose);\n    refs.teamBackdrop.classList.toggle('is-hidden');\n    refs.body.style.overflow = 'visible';\n    refs.teamName.classList.toggle('is-hidden');\n  }\n  if (refs.watchedBtn.className === 'watched current-button') {\n    loadWatched();\n  } else {\n    loadQueue();\n  }\n}\n\nfunction clickCloseModal(e) {\n  e.preventDefault();\n  if (e.target === refs.backdrop || e.key === 'Escape') {\n    refs.backdrop.classList.toggle('is-hidden');\n    document.removeEventListener('keydown', clickCloseModal);\n    refs.body.style.overflow = 'visible';\n  }\n}\n\nfunction footerOpen(e) {\n  e.preventDefault();\n  document.addEventListener('keydown', footerClose);\n  refs.teamBackdrop.classList.toggle('is-hidden');\n  refs.body.style.overflow = 'hidden';\n  setTimeout(() => {\n    refs.teamName.classList.toggle('is-hidden');\n  }, 600);\n  refs.teamBackdrop.addEventListener('click', footerClose);\n}\n\nfunction footerClose(e) {\n  e.preventDefault();\n  if (e.target === refs.teamBackdrop || e.key === 'Escape') {\n    refs.teamBackdrop.classList.toggle('is-hidden');\n    document.removeEventListener('keydown', footerClose);\n    refs.teamName.classList.toggle('is-hidden');\n    refs.teamBackdrop.removeEventListener('click', footerClose);\n  }\n  refs.body.style.overflow = 'visible';\n}\n"],"names":["$b5rV1","parcelRequire","$4e2778bb315e23ad$var$removeNotify","notify","document","querySelector","remove","$4e2778bb315e23ad$var$clearLibrary","innerHTML","$4e2778bb315e23ad$var$addNotify","type","mainPage","markup","insertAdjacentHTML","$4e2778bb315e23ad$export$8d1c1be957c4016b","watchedMovie","loadAllMovie","length","$ecfFJ","renderFilmsOnLibraryPage","$4e2778bb315e23ad$export$b250f4723d6b8e15","queuedMovie","$a427b685abd7fd89$var$refs","body","watchedBtn","currentBtn","queueBtn","library","modal","modalBtnClose","gallery","backdrop","teamBtn","teamBackdrop","teamModalCloseBtn","teamName","$a427b685abd7fd89$var$modalClose","e","preventDefault","target","firstElementChild","removeEventListener","$a427b685abd7fd89$var$clickCloseModal","classList","toggle","style","overflow","$a427b685abd7fd89$var$footerClose","className","key","addEventListener","add","id","parentNode","dataset","tagName","$5Yi4Q","default","setTimeout"],"version":3,"file":"library.c95fe3ca.js.map"}