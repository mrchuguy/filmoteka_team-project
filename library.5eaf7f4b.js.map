{"mappings":"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","sources":["src/js/onLoadLibraryPage.js","src/js/eventListenerLibrary.js"],"sourcesContent":["import { loadAllMovie } from './local-storage';\nimport { renderFilmsOnLibraryPage } from './render-films';\nimport { spinnerToggle, hideSpinner } from './spinner';\n\nconst removeNotify = () => {\n  const notify = document.querySelector('.notify-lib');\n  if (notify) notify.remove();\n};\n\nconst clearLibrary = () => {\n  const galleryContainerLibrary = document.querySelector('.library-box');\n  galleryContainerLibrary.innerHTML = '';\n};\n\nconst addNotify = type => {\n  const mainPage = document.querySelector('main');\n  const markup = `\n  <p class=\"notify-lib\">\n    ${type} movies library is empty\n  </p>`;\n  removeNotify();\n  mainPage.insertAdjacentHTML('afterbegin', markup);\n};\n\nconst loadWatched = () => {\n  removeNotify();\n  const watchedMovie = loadAllMovie('WATCHED');\n  if (watchedMovie.length > 0) {\n    renderFilmsOnLibraryPage(watchedMovie);\n  } else {\n    clearLibrary();\n    addNotify('Watched');\n  }\n};\n\nconst loadQueue = () => {\n  removeNotify();\n  const queuedMovie = loadAllMovie('QUEUE');\n  if (queuedMovie.length > 0) {\n    renderFilmsOnLibraryPage(queuedMovie);\n  } else {\n    clearLibrary();\n    addNotify('Queued');\n  }\n};\n\nloadWatched();\n\nexport { loadWatched, loadQueue };\n","import { loadWatched, loadQueue } from './onLoadLibraryPage';\nimport loadModalInfo from './loadModalInfo';\nimport { loadWatched, loadQueue } from './onLoadLibraryPage';\n//-----refs------///\n\nconst refs = {\n  body: document.querySelector('body'),\n  watchedBtn: document.querySelector('.watched'),\n  currentBtn: document.querySelector('.watched.current-button'),\n  queueBtn: document.querySelector('.queue'),\n  library: document.querySelector('.library'),\n  modal: document.querySelector('.backdrop-info'),\n  modalBtnClose: document.querySelector('.modal__btn-close'),\n  gallery: document.querySelector('.gallery'),\n  backdrop: document.querySelector('.backdrop-info'),\n  teamBtn: document.querySelector('.modal__open'),\n  teamBackdrop: document.querySelector('.backdrop__modal'),\n  teamModalCloseBtn: document.querySelector('.footer__modal-icons'),\n  teamName: document.querySelector('.footer__block'),\n};\n\nrefs.watchedBtn.addEventListener('click', watchedClick);\nrefs.queueBtn.addEventListener('click', queueClick);\nrefs.gallery.addEventListener('click', onLibraryCard);\nrefs.modalBtnClose.firstElementChild.addEventListener('click', modalClose);\nrefs.backdrop.addEventListener('click', clickCloseModal);\nrefs.teamBtn.addEventListener('click', footerOpen);\nrefs.teamModalCloseBtn.addEventListener('click', modalClose);\n\nfunction watchedClick() {\n  refs.watchedBtn.classList.add('current-button');\n  refs.queueBtn.classList.remove('current-button');\n  loadWatched();\n}\n\nfunction queueClick() {\n  refs.queueBtn.classList.add('current-button');\n  refs.watchedBtn.classList.remove('current-button');\n  loadQueue();\n}\n\nfunction onLibraryCard(e) {\n  e.preventDefault();\n  document.addEventListener('keydown', clickCloseModal);\n  const id = e.target.parentNode.parentNode.parentNode.dataset.id;\n  if (e.target.parentNode.parentNode.parentNode.tagName !== 'LI') {\n    return;\n  }\n  loadModalInfo(id);\n  refs.backdrop.classList.toggle('is-hidden');\n  refs.body.style.overflow = 'hidden';\n}\n\n//-------Copy from eventLisners---------//\n\nfunction modalClose(e) {\n  e.preventDefault();\n  if (e.target === refs.modalBtnClose.firstElementChild) {\n    checkActiveBtn();\n    document.removeEventListener('keydown', clickCloseModal);\n    refs.backdrop.classList.toggle('is-hidden');\n    refs.body.style.overflow = 'visible';\n  } else if (e.target === refs.teamModalCloseBtn) {\n    document.removeEventListener('keydown', footerClose);\n    refs.teamBackdrop.classList.toggle('is-hidden');\n    refs.body.style.overflow = 'visible';\n    refs.teamName.classList.toggle('is-hidden');\n  }\n}\n\nfunction clickCloseModal(e) {\n  e.preventDefault();\n  if (e.target === refs.backdrop || e.key === 'Escape') {\n    checkActiveBtn();\n    refs.backdrop.classList.toggle('is-hidden');\n    document.removeEventListener('keydown', clickCloseModal);\n    refs.body.style.overflow = 'visible';\n  }\n}\n\nfunction footerOpen(e) {\n  e.preventDefault();\n  document.addEventListener('keydown', footerClose);\n  refs.teamBackdrop.classList.toggle('is-hidden');\n  refs.body.style.overflow = 'hidden';\n  setTimeout(() => {\n    refs.teamName.classList.toggle('is-hidden');\n  }, 600);\n  refs.teamBackdrop.addEventListener('click', footerClose);\n}\n\nfunction footerClose(e) {\n  if (e.target === refs.teamBackdrop || e.key === 'Escape') {\n    e.preventDefault();\n    refs.teamBackdrop.classList.toggle('is-hidden');\n    document.removeEventListener('keydown', footerClose);\n    refs.teamName.classList.toggle('is-hidden');\n    refs.teamBackdrop.removeEventListener('click', footerClose);\n  }\n  refs.body.style.overflow = 'visible';\n}\n\nfunction checkActiveBtn() {\n  if (refs.watchedBtn.className === 'watched current-button') {\n    loadWatched();\n  } else {\n    loadQueue();\n  }\n}\n"],"names":["$b5rV1","parcelRequire","$4e2778bb315e23ad$var$removeNotify","notify","document","querySelector","remove","$4e2778bb315e23ad$var$clearLibrary","innerHTML","$4e2778bb315e23ad$var$addNotify","type","mainPage","markup","insertAdjacentHTML","$4e2778bb315e23ad$export$8d1c1be957c4016b","watchedMovie","loadAllMovie","length","$ecfFJ","renderFilmsOnLibraryPage","$4e2778bb315e23ad$export$b250f4723d6b8e15","queuedMovie","$a427b685abd7fd89$var$refs","body","watchedBtn","currentBtn","queueBtn","library","modal","modalBtnClose","gallery","backdrop","teamBtn","teamBackdrop","teamModalCloseBtn","teamName","$a427b685abd7fd89$var$modalClose","e","preventDefault","target","firstElementChild","$a427b685abd7fd89$var$checkActiveBtn","removeEventListener","$a427b685abd7fd89$var$clickCloseModal","classList","toggle","style","overflow","$a427b685abd7fd89$var$footerClose","key","className","addEventListener","add","id","parentNode","dataset","tagName","$5Yi4Q","default","setTimeout"],"version":3,"file":"library.5eaf7f4b.js.map"}